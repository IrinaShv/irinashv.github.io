// Copyright 2018, Codrops http://www.codrops.com
{window.Uncover=class{constructor(a,b){this.DOM={el:a},this.options={covered:!0,slicesTotal:3,slicesColor:"#fff",orientation:"vertical",slicesOrigin:{show:"bottom",hide:"bottom"}},Object.assign(this.options,b),this.isCovered=this.options.covered,this.layout(),this.isCovered||this.show()}layout(){this.DOM.el.classList.add("uncover");let a="";a+=`<div class="uncover__img" style='background-image: ${this.DOM.el.style.backgroundImage}'></div><div class="uncover__slices uncover__slices--${this.options.orientation}">`;for(let b=0;b<=this.options.slicesTotal-1;++b)a+=`<div class="uncover__slice" style="color:${this.options.slicesColor}"></div>`;a+=`</div>`,this.DOM.el.innerHTML=a,this.DOM.img=this.DOM.el.querySelector(".uncover__img"),this.DOM.slices=Array.from(this.DOM.el.querySelectorAll(".uncover__slice")),this.slicesTotal=this.DOM.slices.length}show(a=!1,b={}){return this.isCovered?this.toggle(a,b):void 0}hide(a=!1,b={}){return this.isCovered?void 0:this.toggle(a,b)}toggle(a,b){if(this.isCovered=!this.isCovered,!a)this.DOM.slices.forEach(a=>{a.style.transform=this.isCovered?"none":"vertical"===this.options.orientation?"translateY(100%)":"translateX(100%)"});else{let a={slices:{targets:this.DOM.slices,duration:800,delay:(a,b)=>80*b,easing:"easeInOutQuart",translateX:"vertical"===this.options.orientation?"0%":this.isCovered?"right"===this.options.slicesOrigin.hide?["100%","0%"]:["-100%","0%"]:"right"===this.options.slicesOrigin.show?"100%":"-100%",translateY:"vertical"===this.options.orientation?this.isCovered?"bottom"===this.options.slicesOrigin.hide?["100%","0%"]:["-100%","0%"]:"bottom"===this.options.slicesOrigin.show?"100%":"-100%":"0%"},image:{targets:this.DOM.img}};Object.assign(a.slices,b.slices),Object.assign(a.image,b.image),anime.remove(this.DOM.slices),anime.remove(this.DOM.img);let c=[anime(a.slices).finished];return a.image.duration&&c.push(anime(a.image).finished),Promise.all(c)}}}}